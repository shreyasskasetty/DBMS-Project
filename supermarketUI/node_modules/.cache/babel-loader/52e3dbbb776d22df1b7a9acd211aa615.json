{"ast":null,"code":"import _toConsumableArray from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/src/views/examples/Sketch.jsx\";\nimport React, { Component, PropTypes } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { Pencil, TOOL_PENCIL } from '../../tools';\nexport var toolsMap = _defineProperty({}, TOOL_PENCIL, Pencil);\n\nvar Sketch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sketch, _Component);\n\n  // static propTypes = {\n  //   width: PropTypes.number,\n  //   height: PropTypes.number,\n  //   items: PropTypes.array.isRequired,\n  //   animate: PropTypes.bool,\n  //   canvasClassName: PropTypes.string,\n  //   color: PropTypes.string,\n  //   fillColor: PropTypes.string,\n  //   size: PropTypes.number,\n  //   tool: PropTypes.string,\n  //   toolsMap: PropTypes.object,\n  //   onItemStart: PropTypes.func, // function(stroke:Stroke) { ... }\n  //   onEveryItemChange: PropTypes.func, // function(idStroke:string, x:number, y:number) { ... }\n  //   onDebouncedItemChange: PropTypes.func, // function(idStroke, points:Point[]) { ... }\n  //   onCompleteItem: PropTypes.func, // function(stroke:Stroke) { ... }\n  //   debounceTime: PropTypes.number,\n  // };\n  function Sketch(props) {\n    var _this;\n\n    _classCallCheck(this, Sketch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Sketch).call(this, props));\n    _this.tool = null;\n    _this.interval = null;\n    _this.initTool = _this.initTool.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onMouseDown = _this.onMouseDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onMouseMove = _this.onMouseMove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDebouncedMove = _this.onDebouncedMove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onMouseUp = _this.onMouseUp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Sketch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.canvas = findDOMNode(this.canvasRef);\n      this.ctx = this.canvas.getContext('2d');\n      this.initTool(this.props.tool);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(_ref) {\n      var _this2 = this;\n\n      var tool = _ref.tool,\n          items = _ref.items;\n      items.filter(function (item) {\n        return _this2.props.items.indexOf(item) === -1;\n      }).forEach(function (item) {\n        _this2.initTool(item.tool);\n\n        _this2.tool.draw(item, _this2.props.animate);\n      });\n      this.initTool(tool);\n    }\n  }, {\n    key: \"initTool\",\n    value: function initTool(tool) {\n      this.tool = TOOL_PENCIL;\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      var _this$tool;\n\n      var data = (_this$tool = this.tool).onMouseDown.apply(_this$tool, _toConsumableArray(this.getCursorPosition(e)).concat([this.props.color, this.props.size, this.props.fillColor]));\n\n      data && data[0] && this.props.onItemStart && this.props.onItemStart.apply(null, data);\n\n      if (this.props.onDebouncedItemChange) {\n        this.interval = setInterval(this.onDebouncedMove, this.props.debounceTime);\n      }\n    }\n  }, {\n    key: \"onDebouncedMove\",\n    value: function onDebouncedMove() {\n      if (typeof this.tool.onDebouncedMouseMove == 'function' && this.props.onDebouncedItemChange) {\n        this.props.onDebouncedItemChange.apply(null, this.tool.onDebouncedMouseMove());\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(e) {//const data = this.tool.onMouseMove(...this.getCursorPosition(e));\n      // data && data[0] && this.props.onEveryItemChange && this.props.onEveryItemChange.apply(null, data);\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp(e) {\n      //  const data = this.tool.onMouseUp(...this.getCursorPosition(e));\n      //data && data[0] && this.props.onCompleteItem && this.props.onCompleteItem.apply(null, data);\n      if (this.props.onDebouncedItemChange) {\n        clearInterval(this.interval);\n        this.interval = null;\n      }\n    }\n  }, {\n    key: \"getCursorPosition\",\n    value: function getCursorPosition(e) {\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(),\n          top = _this$canvas$getBound.top,\n          left = _this$canvas$getBound.left;\n\n      return [e.clientX - left, e.clientY - top];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          width = _this$props.width,\n          height = _this$props.height,\n          canvasClassName = _this$props.canvasClassName;\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", {\n        ref: function ref(canvas) {\n          _this3.canvasRef = canvas;\n        },\n        className: canvasClassName,\n        onMouseDown: this.onMouseDown,\n        onMouseMove: this.onMouseMove,\n        onMouseOut: this.onMouseUp,\n        onMouseUp: this.onMouseUp,\n        width: width,\n        height: height,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Hello\")));\n    }\n  }]);\n\n  return Sketch;\n}(Component);\n\nSketch.defaultProps = {\n  width: 500,\n  height: 500,\n  color: '#000',\n  size: 5,\n  fillColor: '',\n  canvasClassName: 'canvas',\n  debounceTime: 1000,\n  animate: true,\n  tool: Pencil,\n  toolsMap: toolsMap\n};\nexport default Sketch;","map":{"version":3,"sources":["/home/sathvik/Desktop/Argon/DBMS-Project/supermarketUI/src/views/examples/Sketch.jsx"],"names":["React","Component","PropTypes","findDOMNode","Pencil","TOOL_PENCIL","toolsMap","Sketch","props","tool","interval","initTool","bind","onMouseDown","onMouseMove","onDebouncedMove","onMouseUp","canvas","canvasRef","ctx","getContext","items","filter","item","indexOf","forEach","draw","animate","e","data","getCursorPosition","color","size","fillColor","onItemStart","apply","onDebouncedItemChange","setInterval","debounceTime","onDebouncedMouseMove","clearInterval","getBoundingClientRect","top","left","clientX","clientY","width","height","canvasClassName","defaultProps"],"mappings":"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","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport { findDOMNode } from 'react-dom'\nimport { Pencil,TOOL_PENCIL } from '../../tools'\n\nexport const toolsMap = {\n  [TOOL_PENCIL]: Pencil\n  // ,\n  // [TOOL_LINE]: Line,\n  // [TOOL_RECTANGLE]: Rectangle,\n  // [TOOL_ELLIPSE]: Ellipse\n};\n\nclass Sketch extends Component {\n\n  tool = null;\n  interval = null;\n\n  // static propTypes = {\n  //   width: PropTypes.number,\n  //   height: PropTypes.number,\n  //   items: PropTypes.array.isRequired,\n  //   animate: PropTypes.bool,\n  //   canvasClassName: PropTypes.string,\n  //   color: PropTypes.string,\n  //   fillColor: PropTypes.string,\n  //   size: PropTypes.number,\n  //   tool: PropTypes.string,\n  //   toolsMap: PropTypes.object,\n  //   onItemStart: PropTypes.func, // function(stroke:Stroke) { ... }\n  //   onEveryItemChange: PropTypes.func, // function(idStroke:string, x:number, y:number) { ... }\n  //   onDebouncedItemChange: PropTypes.func, // function(idStroke, points:Point[]) { ... }\n  //   onCompleteItem: PropTypes.func, // function(stroke:Stroke) { ... }\n  //   debounceTime: PropTypes.number,\n  // };\n\n  static defaultProps = {\n    width: 500,\n    height: 500,\n    color: '#000',\n    size: 5,\n    fillColor: '',\n    canvasClassName: 'canvas',\n    debounceTime: 1000,\n    animate: true,\n    tool: Pencil,\n    toolsMap\n  };\n\n  constructor(props) {\n    super(props);\n    this.initTool = this.initTool.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDebouncedMove = this.onDebouncedMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n    this.canvas = findDOMNode(this.canvasRef);\n    this.ctx = this.canvas.getContext('2d');\n    this.initTool(this.props.tool);\n  }\n\n  componentWillReceiveProps({tool, items}) {\n    items\n      .filter(item => this.props.items.indexOf(item) === -1)\n      .forEach(item => {\n        this.initTool(item.tool);\n        this.tool.draw(item, this.props.animate);\n      });\n    this.initTool(tool);\n  }\n\n  initTool(tool) {\n    this.tool = TOOL_PENCIL;\n  }\n\n  onMouseDown(e) {\n    const data = this.tool.onMouseDown(...this.getCursorPosition(e), this.props.color, this.props.size, this.props.fillColor);\n    data && data[0] && this.props.onItemStart && this.props.onItemStart.apply(null, data);\n    if (this.props.onDebouncedItemChange) {\n      this.interval = setInterval(this.onDebouncedMove, this.props.debounceTime);\n    }\n  }\n\n  onDebouncedMove() {\n    if (typeof this.tool.onDebouncedMouseMove == 'function' && this.props.onDebouncedItemChange) {\n      this.props.onDebouncedItemChange.apply(null, this.tool.onDebouncedMouseMove());\n    }\n  }\n\n  onMouseMove(e) {\n    //const data = this.tool.onMouseMove(...this.getCursorPosition(e));\n   // data && data[0] && this.props.onEveryItemChange && this.props.onEveryItemChange.apply(null, data);\n  }\n\n  onMouseUp(e) {\n  //  const data = this.tool.onMouseUp(...this.getCursorPosition(e));\n    //data && data[0] && this.props.onCompleteItem && this.props.onCompleteItem.apply(null, data);\n    if (this.props.onDebouncedItemChange) {\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }\n\n  getCursorPosition(e) {\n    const {top, left} = this.canvas.getBoundingClientRect();\n    return [\n      e.clientX - left,\n      e.clientY - top\n    ];\n  }\n\n  render() {\n    const {width, height, canvasClassName} = this.props;\n    return (\n      <>\n      <canvas\n        ref={(canvas) => { this.canvasRef = canvas; }}\n        className={canvasClassName}\n        onMouseDown={this.onMouseDown}\n        onMouseMove={this.onMouseMove}\n        onMouseOut={this.onMouseUp}\n        onMouseUp={this.onMouseUp}\n        width={width}\n        height={height}\n      />\n      <div>\n        <p>\n          Hello\n        </p>\n      </div>\n      </>\n    )\n  }\n}\nexport default Sketch;"]},"metadata":{},"sourceType":"module"}